let pokemonRepository=function(){let t=[];function e(e){t.push(e)}function i(t){return fetch(t.detailsURL).then(function(t){return t.json()}).then(function(e){t.imageURLFront=e.sprites.front_default,t.imageURLBack=e.sprites.back_default,t.types=[];for(let i=0;i<e.types.length;i++)t.types.push(e.types[i].type.name);t.abilities=[];for(let n=0;n<e.abilities.length;n++)t.abilities.push(e.abilities[n].ability.name);t.height=e.height,t.weight=e.weight}).catch(function(t){console.error(t)})}function n(t){i(t).then(function(){var e;let i,n,o,p,s,l,r,c;e=t,i=$(".modal-body"),(n=$(".modal-title")).empty(),i.empty(),o=$("<h5>"+a(e.name)+"</h5>"),(p=$('<img class="modal-img" style="width: 50%">')).attr("src",e.imageURLFront),(s=$('<img class="modal-img" style="width: 50%">')).attr("src",e.imageURLBack),l="",l=2===e.types.length?$("<p>Type: "+a(e.types[0])+", "+a(e.types[1])+"</p>"):$("<p>Type: "+a(e.types[0])+"</p>"),l=2===e.abilities.length?$("<p>Abilities: "+a(e.abilities[0])+", "+a(e.abilities[1])+"</p>"):$("<p>Ability: "+a(e.abilities[0])+"</p>"),r=$("<p>Height: "+(e.height/10).toFixed(1)+" m</p>"),c=$("<p>Weight: "+(e.weight/10).toFixed(1)+" kg</p>"),n.append(o),i.append(p),i.append(s),i.append(l),i.append(""),i.append(r),i.append(c)})}function a(t){return t.charAt(0).toUpperCase()+t.slice(1)}function o(){return t}return{add:e,loadList:function t(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){e({name:t.name,detailsURL:t.url})})}).catch(function(t){console.error(t)})},loadDetails:i,showDetails:n,addListItem:function t(e){let i=document.querySelector(".list-group"),o=document.createElement("li");o.classList.add("list-group-item");let p=document.createElement("button");p.innerText=a(e.name),p.classList.add("btn","btn-primary"),p.setAttribute("data-target","#modal-container"),p.setAttribute("data-toggle","modal"),p.addEventListener("click",function(){n(e)}),o.appendChild(p),i.appendChild(o)},getAll:o}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});
